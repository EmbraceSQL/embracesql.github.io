"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4173],{455:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>p,contentTitle:()=>c,default:()=>m,frontMatter:()=>d,metadata:()=>l,toc:()=>h});var t=n(5893),s=n(1151),r=n(8410);const i='// import the generated database access object\nimport { Database } from "./dvdrental";\n\n// connect with a good old fashioned Postgres connection string\nconst db = await Database.connect(\n  "postgres://postgres:postgres@localhost:5432/dvdrental",\n);\n// calling a stored database function with positional, typed parameters.\nconst value = await db.Public.Procedures.LastDay.call({\n  argument_0: new Date(),\n});\nconsole.log(value);\n// bye now \ud83d\udc4b\nawait db.disconnect();\n';var o=n(9286);const d={sidebar_position:0},c="Introduction",l={id:"index",title:"Introduction",description:"Love SQL? Love TypeScript? Hate ORMs. You're \ud83c\udfe1.",source:"@site/docs/index.mdx",sourceDirName:".",slug:"/",permalink:"/docs/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"tutorialSidebar",next:{title:"React",permalink:"/docs/React/"}},p={},h=[{value:"Steps",id:"steps",level:2},{value:"Requirements",id:"requirements",level:3},{value:"Create a Database",id:"create-a-database",level:3},{value:"Generate Code with EmbraceSQL",id:"generate-code-with-embracesql",level:3},{value:"Configure TypeScript",id:"configure-typescript",level:3},{value:"Create a Node Program",id:"create-a-node-program",level:3},{value:"Test It!",id:"test-it",level:3}];function u(e){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.h1,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(a.p,{children:"Love SQL? Love TypeScript? Hate ORMs. You're \ud83c\udfe1."}),"\n",(0,t.jsxs)(a.p,{children:["EmbraceSQL takes a different approach. Rather than have you ",(0,t.jsx)(a.em,{children:"model"})," in code,\nor ",(0,t.jsx)(a.em,{children:"map"})," database to code, or learn some new schema language,\nEmbraceSQL generates a fully typed database driver from ",(0,t.jsx)(a.strong,{children:"your"})," database."]}),"\n",(0,t.jsx)(a.p,{children:"Your schema is your model, why hand code another one?"}),"\n",(0,t.jsx)(a.p,{children:"A generated driver is a new approach compared to classic dynamic and untyped\nSQL embedded in application code. Cool advantages:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Code completion / Intellisense works"}),"\n",(0,t.jsx)(a.li,{children:"Strong types are made for you, no need for hand coding"}),"\n",(0,t.jsx)(a.li,{children:"Database access supports the full type system, not just primitive types"}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsx)(a.h3,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsx)(a.p,{children:"You will need:"}),"\n",(0,t.jsxs)(a.p,{children:["This example assumes a sample DVD rental database, source at ",(0,t.jsx)(a.a,{target:"_blank",href:n(4201).Z+"",children:"dvdrental.sql"}),"."]}),"\n",(0,t.jsxs)(a.p,{children:["You can use this database for testing with a local postgres, such as ",(0,t.jsx)(a.a,{href:"https://postgresapp.com",children:"Postgres.app"}),"."]}),"\n",(0,t.jsx)(a.h3,{id:"create-a-database",children:"Create a Database"}),"\n",(0,t.jsx)(a.p,{children:"Create a sample dvdrental database if you like with:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-shell",children:'curl "https://embracesql.github.io/dvdrental.sql" | psql\n'})}),"\n",(0,t.jsx)(a.h3,{id:"generate-code-with-embracesql",children:"Generate Code with EmbraceSQL"}),"\n",(0,t.jsx)(a.p,{children:"Going with this dvdrental example, assuming you are in the root directory\nof your typescript project."}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-shell",children:"npm install @embracesql/express\nnpm pkg set type=module\nmkdir -p ./src\nnpx embracesqlcli generate node --database postgres://postgres:postgres@localhost/dvdrental > ./src/dvdrental.ts\n\n"})}),"\n",(0,t.jsx)(a.h3,{id:"configure-typescript",children:"Configure TypeScript"}),"\n",(0,t.jsx)(a.p,{children:"Preconfigured ready to go TypeScript config."}),"\n",(0,t.jsx)(o.Z,{language:"json",title:"tsconfig.json",children:r.Z}),"\n",(0,t.jsx)(a.h3,{id:"create-a-node-program",children:"Create a Node Program"}),"\n",(0,t.jsx)(a.p,{children:"Now you can use your fully typed database from TypeScript in Node."}),"\n",(0,t.jsx)(o.Z,{language:"typescript",title:"./src/main.ts",children:i}),"\n",(0,t.jsx)(a.h3,{id:"test-it",children:"Test It!"}),"\n",(0,t.jsx)(a.p,{children:"Time to run. Database access end to end with no mapping."}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-shell",children:"npx tsx ./src/main.ts\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Learn about ",(0,t.jsx)(a.a,{href:"/docs/autocrud",children:"AutoCRUD"})," to get at all the tables in your database\nwithout writing data access or re-modeling your database with an ORM."]}),"\n",(0,t.jsxs)(a.p,{children:["Lear about ",(0,t.jsx)(a.a,{href:"/docs/sql",children:"SQL Scripts"})," to get any data you want -- all strongly typed\n-- with any SQL script you can imagine."]})]})}function m(e={}){const{wrapper:a}={...(0,s.a)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},4201:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/files/dvdrental-5d1ea7d9e65aa8bb779785142ae0f4a7.sql"},8410:(e,a,n)=>{n.d(a,{Z:()=>t});const t='{\n  "extends": "@embracesql/shared/tsconfig/tsconfig.json"\n}\n'}}]);