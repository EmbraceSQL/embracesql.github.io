"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2723],{4464:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>p,default:()=>x,frontMatter:()=>c,metadata:()=>o,toc:()=>h});var n=s(5893),t=s(1151);const a='import { EmbraceSQLExpressApp } from "./checklist";\nimport { EmbraceViteApp } from "@embracesql/vite";\nimport express from "express";\n\nconst app = express();\n\n// hook EmbraceSQL middleware first to connect to the database\nconst embracesql = await EmbraceSQLExpressApp(\n  "postgres://postgres:postgres@localhost/dvdrental",\n);\n// mounting the database middleware\napp.use("/embracesql", embracesql);\n// and then hook in vite middleware to build and run your React\nconst vite = await EmbraceViteApp();\n// server react at the root\napp.use("/", vite);\n\napp.listen(4000, () => console.log("Server is listening on port 3000..."));\n',l='{\n  "extends": "@embracesql/shared/tsconfig/react.tsconfig.json"\n}\n';var i=s(9286);const c={},p="Create a Server",o={id:"React/Checklist Example/server",title:"Create a Server",description:"We'll create a simple server using Express and Vite.",source:"@site/docs/React/Checklist Example/02-server.mdx",sourceDirName:"React/Checklist Example",slug:"/React/Checklist Example/server",permalink:"/docs/React/Checklist Example/server",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Create a Database",permalink:"/docs/React/Checklist Example/database"},next:{title:"Create a Client",permalink:"/docs/React/Checklist Example/client"}},d={},h=[{value:"Steps",id:"steps",level:2},{value:"Generate an Express Server",id:"generate-an-express-server",level:3},{value:"Code up an Express Server",id:"code-up-an-express-server",level:3},{value:"Run Your Server",id:"run-your-server",level:3}];function u(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"create-a-server",children:"Create a Server"}),"\n",(0,n.jsx)(r.p,{children:"We'll create a simple server using Express and Vite."}),"\n",(0,n.jsx)(r.h2,{id:"steps",children:"Steps"}),"\n",(0,n.jsx)(r.h3,{id:"generate-an-express-server",children:"Generate an Express Server"}),"\n",(0,n.jsx)(r.p,{children:"Go into a nice blank directory. We'll create a new node module and generate\ndatabase wrapper code."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-shell",children:"npm install @embracesql/vite\nnpm pkg set type=module\nmkdir -p ./src/server\nnpx embracesqlcli generate express --database postgres://postgres:postgres@localhost/dvdrental > ./src/server/checklist.ts\n"})}),"\n",(0,n.jsx)(r.h3,{id:"code-up-an-express-server",children:"Code up an Express Server"}),"\n",(0,n.jsx)(r.p,{children:"Create two files as shown."}),"\n",(0,n.jsx)(i.Z,{language:"json",title:"tsconfig.json",children:l}),"\n",(0,n.jsx)(i.Z,{language:"typescript",title:"./src/server/main.ts",children:a}),"\n",(0,n.jsx)(r.h3,{id:"run-your-server",children:"Run Your Server"}),"\n",(0,n.jsx)(r.p,{children:"Start it up. This server includes:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Database access"}),"\n",(0,n.jsx)(r.li,{children:"Hot reload"}),"\n",(0,n.jsx)(r.li,{children:"Vite React support"}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-shell",children:"npx tsx watch ./src/server/main.ts\n"})})]})}function x(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}}}]);